<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	ng-app="delivery">
<head>
<title>Green Dog Delivery</title>
	<!-- Bootstrap -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<!--  JQuery -->
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
	<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
	<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
<!--  Angular -->
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.js"></script>
<script type="text/javascript" th:src="@{/js/checklist-model.js}"></script>
<script type="text/javascript" th:src="@{/js/delivery.js}"></script>
<style>
.opcao {font-family:'Alegreya Sans', sans-serif;font-weight:300;margin:10px}
</style>
</head>

<body>
	<div class="container">
		<nav class="navbar navbar-expand bg-body-tertiary">
			<div class="container">
				<a class="navbar-brand" th:href="@{/}"><img src="../static/img/hotdog-logo.png" th:src="@{/img/hotdog-logo.png}"/></a>
				<div class="collapse navbar-collapse" id="navbarNavDropdown">
					<ul class="navbar-nav p-2">
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
								Green Dog Delivery
							</a>
							<ul class="dropdown-menu">
								<li><a th:href="@{/ambiente}" class="dropdown-item">Ambiente</a></li>
								<li><a th:href="@{/h2}" class="dropdown-item">H2 Console</a></li>
								<li><a th:href="@{/clientes/}" class="dropdown-item">Cadastro de clientes</a></li>
								<li><a th:href="@{/itens/}" class="dropdown-item">Cadastro de itens</a></li>
								<li><a th:href="@{/pedidos/}" class="dropdown-item">Cadastro de pedidos</a></li>
								<li><a th:href="@{/api/browser/index.html#/api/}" class="dropdown-item">HAL Browser</a></li>
								<li><a th:href="@{/delivery}" class="dropdown-item">Delivery</a></li>
							</ul>
						</li>
					</ul>
				</div>
				<div class="d-flex align-items-center">
					<div class="collapse navbar-collapse" id="navbarNav">
						<ul class="navbar-nav me-auto mb-2 mb-lg-0">
							<li class="nav-item"><a class="nav-link" href="https://www.casadocodigo.com.br" target="_BLANK" >Casa do Código</a></li>
							<li class="nav-item"><a class="nav-link" href="https://boaglio.com" target="_BLANK">boaglio.com</a></li>
							<li class="nav-item"><a class="nav-link" href="https://projects.spring.io/spring-boot/" target="_BLANK">Spring Boot</a></li>
							<li class="nav-item"><a class="nav-link" href="https://github.com/ultraq/thymeleaf-layout-dialect" target="_BLANK">Thymeleaf Layout</a></li>
							<li class="nav-item"><a class="nav-link" href="https://getbootstrap.com" target="_BLANK">Bootstrap</a></li>
						</ul>
					</div>
				</div>
			</div>
		</nav>
		<div ng-controller="pedidoController">

			<form class="form-horizontal">
				<fieldset>
					<legend>Delivery - Novo Pedido</legend>
					<div class="form-group">
						<label class="col-md-12" for="checkboxes">
					        <img alt="" src="../img/hotdog.svg" style="width:50px; margin:-12px 0px;" />
							Cardápio
						</label>
					</div>
					<div class="form-group">
						<div class="col-md-12">
							<div  class="checkbox checkbox-primary" ng-repeat="i in itens">
								<label for="checkboxes-0" class="opcao"> 
								<input name="checkboxes"
								    class=" "
									checklist-model="pedidoItens"
									checklist-value="i"
									ng-click="isItemSelecionado(i)"
									type="checkbox">
									&nbsp;{{i.nome}} [R${{i.preco}}]
							    </label>
							</div>
						</div>
					</div>
					<br/>
					<div class="form-group">
						<label class="col-md-12" for="btnSubmit">Subtotal: R${{subTotal}} </label>
					</div>
					<br/>
					<div class="form-group">
						<div class="col-md-12">
							<button id="btnSubmit" name="btnSubmit" ng-click="fazerPedido(pedidoItens)"
								class="btn btn-primary">Fazer o pedido</button>
						</div>
					</div>
				</fieldset>
			</form>
			<div class="alert alert-success" ng-show="idPedido!=null">
              <strong>Pedido {{idPedido}}</strong>  {{mensagem}} 
            </div>
            <div class="alert alert-warning" ng-show="idPedido!=null">
			  Valor do pedido: <strong>{{valorTotal}}</strong> reais.
			</div>
             <div class="alert alert-warning" ng-show="idPedido!=null">
			  Chamada do serviço: <strong>{{urlPedido}}</strong> 
			</div>
	        <fieldset>{{message}}</fieldset>
	       <br/>
	        <div class="alert alert-danger" ng-show="oferta!='nenhuma'">
	         <img th:src="@{/img/oferta.png}"/>{{oferta}}
	          <div  ng-show="debug==1">
	           <br/> 
	           <img th:src="@{/img/servidor.png}"/>
	           <strong>{{servidor}}</strong>
	          </div>
	        </div>
	        	       
		</div>
	</div>
</body>
</html>
